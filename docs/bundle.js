!function(e){var l={};function i(r){if(l[r])return l[r].exports;var t=l[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=l,i.d=function(e,l,r){i.o(e,l)||Object.defineProperty(e,l,{configurable:!1,enumerable:!0,get:r})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(l,"a",l),l},i.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},i.p="",i(i.s=1)}([function(e,l,i){"use strict";goog.provide("Blockly.FieldNumberSlider"),goog.require("Blockly.FieldTextInput"),goog.require("goog.math"),goog.require("goog.userAgent"),Blockly.FieldNumberSlider=function(e,l){e=e&&!isNaN(e)?String(e):"0",Blockly.FieldNumberSlider.superClass_.constructor.call(this,e,l)},goog.inherits(Blockly.FieldNumberSlider,Blockly.FieldTextInput),Blockly.FieldNumberSlider.fromJson=function(e){return new Blockly.FieldNumberSlider(e.angle)},Blockly.FieldNumberSlider.SIZE=100,Blockly.FieldNumberSlider.SIZE_HALF=50,Blockly.FieldNumberSlider.INT_SIZE=20,Blockly.FieldNumberSlider.PADDING=20,Blockly.FieldNumberSlider.prototype.render_=function(){this.visible_?(this.textElement_.textContent=this.getDisplayText_(),this.updateWidth()):this.size_.width=0},Blockly.FieldNumberSlider.prototype.dispose_=function(){var e=this;return function(){Blockly.FieldNumberSlider.superClass_.dispose_.call(e)(),e.gauge_=null,e.clickWrapper_&&Blockly.unbindEvent_(e.clickWrapper_),e.moveWrapper_&&Blockly.unbindEvent_(e.moveWrapper_)}},Blockly.FieldNumberSlider.prototype.addText=function(e,l,i){Blockly.utils.createSvgElement("text",{x:l,y:i},this.svg_).textContent=e},Blockly.FieldNumberSlider.prototype.showEditor_=function(){var e=goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD;Blockly.FieldNumberSlider.superClass_.showEditor_.call(this,e);var l=Blockly.WidgetDiv.DIV;if(!l.firstChild)return;const i=Blockly.utils.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:Blockly.FieldNumberSlider.INT_SIZE+Blockly.FieldNumberSlider.SIZE+3*Blockly.FieldNumberSlider.PADDING+"px",width:Blockly.FieldNumberSlider.SIZE+2*Blockly.FieldNumberSlider.PADDING+"px"},l);this.svg_=i,this.addText("0",Blockly.FieldNumberSlider.PADDING+.02*Blockly.FieldNumberSlider.SIZE,Blockly.FieldNumberSlider.PADDING+.8*Blockly.FieldNumberSlider.INT_SIZE),this.addText("9",Blockly.FieldNumberSlider.PADDING+.89*Blockly.FieldNumberSlider.SIZE,Blockly.FieldNumberSlider.PADDING+.8*Blockly.FieldNumberSlider.INT_SIZE),this.addText("-",Blockly.FieldNumberSlider.PADDING+.02*Blockly.FieldNumberSlider.SIZE,2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE+.12*Blockly.FieldNumberSlider.SIZE),this.addText("0",Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.SIZE_HALF,2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE+.12*Blockly.FieldNumberSlider.SIZE),this.addText("1",Blockly.FieldNumberSlider.PADDING+.88*Blockly.FieldNumberSlider.SIZE,2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE+.12*Blockly.FieldNumberSlider.SIZE),this.addText("10",Blockly.FieldNumberSlider.PADDING+.81*Blockly.FieldNumberSlider.SIZE,2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE+.27*Blockly.FieldNumberSlider.SIZE),this.addText("100",Blockly.FieldNumberSlider.PADDING+.71*Blockly.FieldNumberSlider.SIZE,2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE+.53*Blockly.FieldNumberSlider.SIZE),this.addText("1000",Blockly.FieldNumberSlider.PADDING+.62*Blockly.FieldNumberSlider.SIZE,2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE+.97*Blockly.FieldNumberSlider.SIZE),this.intRect_=Blockly.utils.createSvgElement("rect",{x:Blockly.FieldNumberSlider.PADDING,y:Blockly.FieldNumberSlider.PADDING,width:Blockly.FieldNumberSlider.SIZE,height:Blockly.FieldNumberSlider.INT_SIZE,class:"blocklyAngleCircle"},i),this.floatRect_=Blockly.utils.createSvgElement("rect",{x:Blockly.FieldNumberSlider.PADDING,y:2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE,width:Blockly.FieldNumberSlider.SIZE,height:Blockly.FieldNumberSlider.SIZE,class:"blocklyAngleCircle"},i),Blockly.utils.createSvgElement("line",{x1:Blockly.FieldNumberSlider.SIZE_HALF+Blockly.FieldNumberSlider.PADDING,y1:2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE,x2:Blockly.FieldNumberSlider.SIZE_HALF+Blockly.FieldNumberSlider.PADDING,y2:Blockly.FieldNumberSlider.SIZE+2*Blockly.FieldNumberSlider.PADDING+Blockly.FieldNumberSlider.INT_SIZE,class:"blocklyAngleMarks"},i),this.clickWrapper_=Blockly.bindEvent_(i,"click",this,Blockly.WidgetDiv.hide),this.moveWrapper_=Blockly.bindEvent_(i,"mousemove",this,this.onMouseMove)},Blockly.FieldNumberSlider.prototype.onMouseMove=function(e){const l=this.intRect_.getBoundingClientRect(),i=this.floatRect_.getBoundingClientRect(),r=e.clientX-l.left,t=e.clientY-i.top,o=Math.min(Math.max(1,r),99);let d;if(t<-Blockly.FieldNumberSlider.PADDING/2)d=Math.floor(o/10);else{const e=Math.min(Math.max(0,t),99),l=(o-50)/49*(999*Math.pow(e/99,3)+1),i=Math.abs(l)<1?2:Math.abs(l)<10?1:0;d=l.toFixed(i)}Blockly.FieldTextInput.htmlInput_.value=d.toString(),this.setValue(d),this.validate_(),this.resizeEditor_()},Blockly.FieldNumberSlider.prototype.setText=function(e){Blockly.FieldNumberSlider.superClass_.setText.call(this,e),this.textElement_&&(this.size_.width=0)},Blockly.FieldNumberSlider.prototype.classValidator=function(e){if(null===e)return null;var l=parseFloat(e||0);return isNaN(l)?null:String(l)},Blockly.Field.register("field_number_slider",Blockly.FieldNumberSlider)},function(e,l,i){i(0);const r={type:"math_number",message0:"%1",args0:[{type:"field_number_slider",name:"NUM",value:0}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]};Blockly.Blocks.math_number_slider={init:function(){this.jsonInit(r)}};const t=document.getElementById("blocklyArea"),o=document.getElementById("blocklyDiv"),d=Blockly.inject(o,{toolbox:'\n<xml>\n\x3c!--\n<block type="controls_if"></block>\n<block type="logic_compare"></block>\n<block type="controls_repeat_ext"></block>\n--\x3e\n<block type="math_number_slider">\n  <field name="NUM">123</field>\n</block>\n\x3c!--\n<block type="math_arithmetic"></block>\n<block type="text"></block>\n<block type="text_print"></block>\n--\x3e\n</xml>\n'});function c(e=null){let l=t,i=0,r=0;do{i+=l.offsetLeft,r+=l.offsetTop,l=l.offsetParent}while(l);o.style.left=i+"px",o.style.top=r+"px",o.style.width=t.offsetWidth+"px",o.style.height=t.offsetHeight+"px"}window.addEventListener("resize",c,!1),c(),Blockly.svgResize(d)}]);